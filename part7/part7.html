<!DOCTYPE html>
<html>

<head>
    <title>Vue 101 - Part 7</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <style>
        .person {
            border-radius: .25rem;
            border: 1px solid #ECECEC;
            padding: 1rem;
            margin: 10px;
            background-color: #33c7ee30;
        }
    </style>

</head>

<body>
    <div id="app" class="container">
        <h1>Watchers & v-model</h1>
        <label>What's your favorite game ever?</label>
        <input type="text" v-model="favoriteGame">

        <hr>

        <p>{{ response }}</p>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>

    <script>
        const app = new Vue({
            el: '#app',
            data() {
                return {
                    favoriteGame: null,
                    response: ''
                }
            },
            watch: {
                favoriteGame(newValue, oldValue) {

                    if (!newValue) return

                    if (newValue.toLowerCase().indexOf('metroid') !== -1) {
                        this.response = 'Ceres station is under attack!'
                        return
                    }

                    if (newValue.toLowerCase().indexOf('zelda') !== -1) {
                        this.response = 'Its dangerous to go alone, take this üó°Ô∏è'
                        return
                    }

                    if (
                        oldValue.toLowerCase().indexOf('metroid') !== -1 &&
                        newValue.toLowerCase().indexOf('metroid') === -1
                    ) {
                        this.response = 'Nothing is true , everything is permitted'
                        return
                    }

                    this.response = 'Sure, why not?'
                }
            }
        });
    </script>
</body>

</html>